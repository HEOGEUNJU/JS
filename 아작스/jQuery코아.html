<!DOCTYPE html>
<meta charset="UTF-8">
<body>
    <div class="aaa">서범수</div>
    <div class="aaa bbb">민경진</div>
    <div class="aaa">장은호</div>
    <div class="aaa">허근주</div>
    <div class="aaa bbb">이현주</div>
    <div class="aaa bbb">이선민</div>
</body>
<script>
//콜백 연습을 위해 jQuery 코아 만들기
//실제 jQuery는 훨씬 더 복잡한데, 이해를 위해 필요한 것만 심플하게 뽑아서 작성

//class
//jQuery는 선택된 element를 전부 자신의 속성으로 옮겨 담음
//옮겨놔야 맘대로 조작하기 편하기 때문에, 대신 성능에 대한 손해는 감수
//결론 편리함을 얻고, 성능을 조금 내어줌

//new를 없애주기 위한 함수
// let factory; //전역변수 선언
(function(){
    let $ = (p_sel)=>{
    return new MyDom(p_sel);
    }

    let MyDom = function(p_selector){
        let elems = document.querySelectorAll(p_selector);
        //위에 가져온 걸 옮겨 담음
        this.length = elems.length; // 속성 length 선언
        for(let i=0; i<elems.length; i++){
            this[i] = elems[i];

        }
        return this; // 명시적 표현(생략해도 상관없음)
    }
    window.$=$; //전역변수 factory와 지역변수 factory를 연결(참조)
})();

// let check = new MyDom(".aaa");
let check = $(".aaa.bbb");
console.log(check[1]); // 눈으로 확인하는 게 중요
</script>